"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[294],{6294:function(t,e,n){n.r(e),n.d(e,{Contacts:function(){return y},default:function(){return T}});var a=n(9439),s=n(4942),r=n(1413),c={contactForm:"ContactForm_contactForm__y0Rca",inputLabel:"ContactForm_inputLabel__LEeFC",formInput:"ContactForm_formInput__GszVU",formBtn:"ContactForm_formBtn__qZGY3"},i=n(2791),o=n(9434),l=n(6052),u=function(t){return t.contacts.contacts.items},d=function(t){return t.contacts.filter},m=function(t){return t.contacts.sortOptions},h=n(184),p=function(){var t=(0,i.useState)({name:"",number:""}),e=(0,a.Z)(t,2),n=e[0],d=e[1],m=(0,o.I0)(),p=(0,o.v9)(u),f=function(t){var e=t.target.value.split(" ").map((function(t){return t.trim()})).join(" ");d((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,s.Z)({},t.target.name,e))}))};return(0,h.jsx)("section",{className:c.formSection,children:(0,h.jsxs)("form",{className:c.contactForm,onSubmit:function(t){t.preventDefault();var e=n.name,a=n.number,s={name:e,number:a};p.find((function(t){return t.name.toLowerCase()===e.toLowerCase()||t.number===a}))?alert("".concat(e," or ").concat(a," is already in contacts")):(m((0,l.uK)(s)),d({name:"",number:""}))},children:[(0,h.jsxs)("label",{className:c.inputLabel,children:["Name",(0,h.jsx)("input",{className:c.formInput,onChange:f,value:n.name,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan.",required:!0})]}),(0,h.jsxs)("label",{className:c.inputLabel,children:["Number",(0,h.jsx)("input",{className:c.formInput,onChange:f,value:n.number,type:"tel",name:"number",pattern:"^\\+?\\d{1,4}[-.\\s]?\\(?\\d{1,3}\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,h.jsx)("button",{className:c.formBtn,type:"submit",children:"Add Contact"})]})})},f={filterContainer:"Filter_filterContainer__8G57N",filterTitle:"Filter_filterTitle__5SDqd",filterInput:"Filter_filterInput__1Cysk"},x=n(1538),_=function(){var t=(0,i.useState)({input:""}),e=(0,a.Z)(t,2),n=e[0],s=e[1],c=(0,o.I0)();(0,i.useEffect)((function(){c((0,x.xO)(n.input))}),[n.input,c]);return(0,h.jsx)("section",{className:f.filterSection,children:(0,h.jsxs)("div",{className:f.filterContainer,children:[(0,h.jsx)("p",{className:f.filterTitle,children:"Search contacts by name or number"}),(0,h.jsx)("input",{className:f.filterInput,type:"text",onChange:function(t){s((function(e){return(0,r.Z)((0,r.Z)({},e),{},{input:t.target.value})}))},value:n.input})]})})},j={sortContainer:"Sort_sortContainer__2DpMN",sortOptionContainer:"Sort_sortOptionContainer__IMYq3",sortWrapper:"Sort_sortWrapper__VqLXH",sortTitle:"Sort_sortTitle__YmJcn",sortOption:"Sort_sortOption__dF0Zh",sortButton:"Sort_sortButton__CPLkG",switch:"Sort_switch__4uxDt",slider:"Sort_slider__9FHYi"},C=n(9806),b=n(1632),N=function(){var t=(0,i.useState)({name:!1,order:!1}),e=(0,a.Z)(t,2),n=e[0],c=e[1],l=(0,o.I0)();(0,i.useEffect)((function(){l((0,x.cs)(n))}),[n,l]);var u=function(t){var e=t.target.dataset.value,n=t.target.checked;c((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,s.Z)({},e,n))}))};return(0,h.jsx)("section",{className:j.sortSection,children:(0,h.jsxs)("div",{className:j.sortContainer,children:[(0,h.jsx)("p",{className:j.sortTitle,children:"Sort contacts by name"}),(0,h.jsxs)("div",{className:j.sortOptionContainer,children:[(0,h.jsx)("p",{className:j.sortOption,children:"First Name"}),(0,h.jsx)("div",{className:j.sortWrapper,children:(0,h.jsxs)("label",{className:j.switch,children:[(0,h.jsx)("input",{"data-value":"name",type:"checkbox",onChange:u}),(0,h.jsx)("span",{className:j.slider})]})}),(0,h.jsx)("p",{className:j.sortOption,children:"Last Name"})]}),(0,h.jsxs)("div",{className:j.sortOptionContainer,children:[(0,h.jsx)(C.G,{icon:b.bDz,size:"lg",style:{color:"#4e4e4e"}}),(0,h.jsx)("div",{className:j.sortWrapper,children:(0,h.jsxs)("label",{className:j.switch,children:[(0,h.jsx)("input",{"data-value":"order",type:"checkbox",onChange:u}),(0,h.jsx)("span",{className:j.slider})]})}),(0,h.jsx)(C.G,{icon:b.M2Q,size:"lg",style:{color:"#4e4e4e"}})]})]})})},v={contactsListSection:"ContactList_contactsListSection__cWqG0",contactsList:"ContactList_contactsList__7leRd",contactItem:"ContactList_contactItem__ppNQ5",contactItemNumer:"ContactList_contactItemNumer__VuqTQ",contactsTable:"ContactList_contactsTable__dYkGk",editableContact:"ContactList_editableContact__AOyjp"},g=n(6059),S=n.n(g),k=n(3433),L="Buttons_contactItemBtn__ykTTg",I=function(t){var e=t.editableContactId,n=t.contactId,a=t.handleSaveClick,s=t.handleEditClick,r=t.handleCancelClick,c=(0,o.I0)();return(0,h.jsx)(h.Fragment,{children:e===n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{className:L,onClick:function(){return a(n)},children:"Save"}),(0,h.jsx)("button",{className:L,onClick:r,children:"Cancel"})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{className:L,onClick:function(){return s(n)},children:"Edit"}),(0,h.jsx)("button",{className:L,onClick:function(){return c((0,l.GK)(n))},children:"Delete"})]})})},F=function(){var t=(0,i.useState)(null),e=(0,a.Z)(t,2),n=e[0],s=e[1],c=(0,i.useRef)({}),p=(0,o.I0)(),f=(0,o.v9)(u),x=(0,o.v9)(d),_=(0,o.v9)(m),j=function(t,e){var n=e.name,a=e.order,s=n?"lastName":"firstName",r=a?"desc":"asc";return(0,k.Z)(t).sort((function(t,e){var n,a;return"firstName"===s?(n=t.name.split(" ")[0],a=e.name.split(" ")[0]):"lastName"===s&&(n=t.name.split(" "),a=e.name.split(" "),n=n[n.length-1],a=a[a.length-1]),"asc"===r?n.localeCompare(a):a.localeCompare(n)}))}(f,_),C=function(t,e){var n=e.toLowerCase();return n?t.filter((function(t){return t.name.toLowerCase().includes(n)||t.number.includes(n)})):t}(j,x),b=function(t){s(t),c.current[t]=(0,r.Z)({},f.find((function(e){return e.id===t})))},N=function(){s(null),c.current={}},g=function(t){p((0,l.Tk)({editedContact:c.current[t]})),s(null),c.current={}},L=function(t,e){var n=t.target.value,a=t.currentTarget.dataset.value;c.current[e][a]=n};return(0,h.jsx)("section",{className:v.contactsListSection,children:(0,h.jsxs)("table",{className:v.contactsTable,children:[(0,h.jsxs)("thead",{children:[(0,h.jsx)("tr",{children:(0,h.jsx)("th",{colSpan:3,children:(0,h.jsx)("h1",{children:"Contacts"})})}),(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Name"}),(0,h.jsx)("th",{children:"Number"}),(0,h.jsx)("th",{children:"Actions"})]})]}),(0,h.jsx)("tbody",{children:C.length>0?(0,h.jsx)(h.Fragment,{children:C.map((function(t){return(0,h.jsxs)("tr",{children:[(0,h.jsxs)("td",{children:[" ",n===t.id?(0,h.jsx)(S(),{className:v.editableContact,html:t.name,disabled:!1,"data-value":"name",onChange:function(e){return L(e,t.id)}}):t.name]}),(0,h.jsx)("td",{children:n===t.id?(0,h.jsx)(S(),{className:v.editableContact,html:t.number,disabled:!1,"data-value":"number",onChange:function(e){return L(e,t.id)}}):t.number}),(0,h.jsx)("td",{children:(0,h.jsx)(I,{contactId:t.id,editableContactId:n,handleEditClick:b,handleCancelClick:N,handleSaveClick:g})})]},t.id)}))}):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:3,className:v.noContacts,children:"No contacts meet search criteria."})})})]})})},Z={contactsTitle:"Contacts_contactsTitle__9axPf"},y=function(){var t=(0,i.useState)(!1),e=(0,a.Z)(t,2),n=e[0],s=e[1],r=(0,o.I0)();(0,i.useEffect)((function(){r((0,l.yF)()),s(!1)}),[r]);var c=(0,o.v9)(u);return(0,h.jsxs)("section",{className:Z.contacts,children:[(0,h.jsx)("h1",{className:Z.contactsTitle,children:"Phonebook"}),(0,h.jsx)(p,{}),n?(0,h.jsx)("h5",{children:"Loading..."}):c.length>=2?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(_,{}),(0,h.jsx)(N,{}),(0,h.jsx)(F,{})]}):1===c.length?(0,h.jsx)(F,{}):c.length<1?(0,h.jsx)("h5",{children:"No contacts found. Complete the above form to begin adding contacts."}):null]})},T=y}}]);
//# sourceMappingURL=294.0268ed36.chunk.js.map